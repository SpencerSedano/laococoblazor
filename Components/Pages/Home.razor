@using laococoblazor.Models
@using Microsoft.EntityFrameworkCore
@inject LaococoDbContext DbContext


@page "/"

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>



@if (WorkerList == null)
{
  <p>Loading...</p>
}
else
{
  @foreach (Worker worker in WorkerList)
  {
    <p>@worker.FirstName</p>
    <p>@worker.LastName</p>


    <p>@worker.Email</p>

    <hr />
  }
}

@code {
  private List<Worker> WorkerList = new List<Worker>();

  protected override async Task OnInitializedAsync()
  {
    WorkerList = await DbContext.Workers.ToListAsync();
  }
}